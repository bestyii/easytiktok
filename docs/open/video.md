# 视频相关

## 实例化
```php
<?php
use EasyTiktok\Application;

$app = Application::openPlatform([
    'app_id' => 'app_id',
    'secret' => 'secret',
    'openid' => ''
])->video;
```

## 上传视频

> 🚨 使用前建议熟读 [抖音开放平台文档](https://open.douyin.com/platform/doc/6848798087398295555)

该接口用于上传视频文件到文件服务器，获取视频文件video_id。该接口适用于抖音。

:::tip 注意
- 超过50m的视频建议采用分片上传，可以降低网关超时造成的失败。超过128m的视频必须采用分片上传。视频总大小4GB以内。单个分片建议20MB，最小5MB。
- 为了更好的观看体验，推荐上传16:9，分辨率为720p（1280x720）及以上的竖版视频。
- 支持常用视频格式，推荐使用 mp4 、webm。
- 视频文件大小不超过128M，时长在15分钟以内。
- 带品牌logo或品牌水印的视频，会命中抖音的审核逻辑，有比较大的概率导致分享视频推荐降权处理/分享视频下架处理/分享账号被封禁处理。强烈建议第三方应用自行处理好分享内容中的不合规水印。
- 视频审核逻辑与端上一致。
:::

使用示例：
```php
$data = $app->uploadVideo(string $filePath);
```

## 分片初始化上传

> 🚨 使用前建议熟读 [抖音开放平台文档](https://open.douyin.com/platform/doc/6848798087398393859)

该接口用于分片上传视频文件到文件服务器，先初始化上传获取upload_id。该接口适用于抖音。

使用示例：
```php
$data = $app->partUpload(string $filePath);
```

## 创建视频

> 🚨 使用前建议熟读 [抖音开放平台文档](https://open.douyin.com/platform/doc/6848798087398328323)

该接口用于创建抖音视频（支持话题, 小程序等功能）。该接口适用于抖音。

:::tip 注意
- 挂载小程序请先完成申请->申请及使用说明 
- 创建抖音视频后, 会有一个审核过程, 期间只有自己可见。
- 如果发布视频想@用户，需要获取昵称与open_id。
- 目前发布视频接口，支持三种锚点类型，包括：小程序、游戏、poi。不支持携带多种类型的锚点。
- 如需代用户创建视频，除授权外，每次调用都需要在产品设计中让用户明确感知相关操作。如发现未经用户感知代用户创建视频，或将回收相关接口权限并处罚应用及账号。
:::

使用示例：
```php
$data = $app->createVideo(string $videoId, array $body = []);
```

## 查询授权账号视频列表

> 🚨 使用前建议熟读 [抖音开放平台文档](https://open.douyin.com/platform/doc/6848806536383318024)

该接口用于分页获取用户所有视频的数据，返回的数据是实时的。该接口适用于抖音。

使用示例：
```php
$data = $app->getList(int $cursor, int $count = 10);
```

## 查询特定视频的视频数据

> 🚨 使用前建议熟读 [抖音开放平台文档](https://open.douyin.com/platform/doc/6848806544931325965)

该接口 用于查询用户特定视频的数据, 如点赞数, 播放数等，返回的数据是实时的。该接口适用于抖音。

使用示例：
```php
$data = $app->getData(array $item_ids);
```